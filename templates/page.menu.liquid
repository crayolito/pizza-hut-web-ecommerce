<!-- HOJA DE ESTILOS CSS -->
{{ 'estilos-generales.css' | asset_url | stylesheet_tag }}
{{ 'page-menu.css' | asset_url | stylesheet_tag }}

<page-menu-productos>
  <section class="page-menu-container">
    <div class="page-menu-header">
      <h1 class="page-menu-titulo-mobile">Menu</h1>
      <small class="page-menu-titulo-desktop">Menu</small>
      <div class="page-menu-opciones-seleccion container-base">
        <div
          categoria="todo"
          class="page-menu-opcion"
        >
          <div class="page-menu-opcion-nombre">
            {% render 'icon-todas-opciones' %}
            <p>Ver Todo</p>
          </div>
        </div>
        <div
          categoria="ofertas"
          class="page-menu-opcion"
        >
          <div class="page-menu-opcion-imagen">
            <img src="{{ 'imagen-pizza-1.png' | asset_url }}" alt="Hamburguesa" width="100%" height="100%">
          </div>
          <div class="page-menu-opcion-nombre">
            <p>OFERTAS</p>
          </div>
        </div>
        <div
          categoria="pizzas"
          class="page-menu-opcion"
        >
          <div class="page-menu-opcion-imagen">
            <img src="{{ 'imagen-pizza-1.png' | asset_url }}" alt="Hamburguesa" width="100%" height="100%">
          </div>
          <div class="page-menu-opcion-nombre">
            <p>PIZZAS</p>
          </div>
        </div>
        <div
          categoria="postres"

          class="page-menu-opcion"
        >
          <div class="page-menu-opcion-imagen">
            <img src="{{ 'imagen-pizza-1.png' | asset_url }}" alt="Hamburguesa" width="100%" height="100%">
          </div>
          <div class="page-menu-opcion-nombre">
            <p>POSTRES</p>
          </div>
        </div>
        <div
          categoria="gaseosas y cervezas"

          class="page-menu-opcion"
        >
          <div class="page-menu-opcion-imagen">
            <img src="{{ 'imagen-pizza-1.png' | asset_url }}" alt="Hamburguesa" width="100%" height="100%">
          </div>
          <div class="page-menu-opcion-nombre">
            <p>GASEOSAS Y CERVERSAS</p>
          </div>
        </div>
      </div>
    </div>
    <!-- PRODUCTOS POSTRES  (OFERTO : SIMPLE) -->
    <div class="phpm-titulo-general container-base ">
      <small>ClÁsicas</small>
    </div>
    <div class="phpm-container-seccion container-base">
      <div class="producto-es-item">
        <div class="producto-es-item-imagen">
          <img src="{{ 'imagen-pizza-1.png' | asset_url }}" alt="Pizza 1" width="100%" height="100%">
        </div>
        <div
          tipo-producto="simple"
          class="producto-es-item-detalle"
        >
          <div class="producto-es-item-info">
            <h3>CHESSY LOVERS</h3>
            <p>
              Salsa de tomate, queso mozarella, Pepperoni, Jamón, carnes mixtas (res y cerdo, salchicha italiana y
              tocino.
            </p>
          </div>
          <h3 class="color-letras-primary">12.56 BS</h3>
          <div
            id=" phpm-general-variantes"
            tipo-producto="simple"
            class="seleccion-variante-producto-general"
          >
            <p>Tamaño</p>
            <button id="phpm-view-variantes" class="container-info-variante">
              <p id=" phpm-variante-seleccionado">Personalizada</p>
              <div class="icono-dropdown-variantes icon-color-tertiary">
                {% render 'icon-flecha-abajo' %}
              </div>
            </button>
            <div id=" phpm-items-variantes" class="variantes-producto">
              <div class="variante-producto-es-item">
                <p>Familiar</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Mediana</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Basica</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Personalizada</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
            </div>
          </div>
          <button id=" phpm-btn-personalizar" class="ph-btn-general phpm-btn-personalizar">
            <p class="color-letras-secondary">PERSONALIZAR</p>
          </button>
          <button id=" phpm-btn-personalizar" class="ph-btn-general phpm-btn-agregar icon-color-secondary">
            {% render 'icon-carrito' %}
            <p class="color-letras-secondary">AGREGAR</p>
          </button>
        </div>
      </div>
      <div class="producto-es-item">
        <div class="producto-es-item-imagen">
          <img src="{{ 'imagen-pizza-1.png' | asset_url }}" alt="Pizza 1" width="100%" height="100%">
        </div>
        <div
          tipo-producto="simple"
          class="producto-es-item-detalle"
        >
          <div class="producto-es-item-info">
            <h3>CHESSY LOVERS</h3>
            <p>
              Salsa de tomate, queso mozarella, Pepperoni, Jamón, carnes mixtas (res y cerdo, salchicha italiana y
              tocino.
            </p>
          </div>
          <h3 class="color-letras-primary">12.56 BS</h3>
          <div
            id=" phpm-general-variantes"
            tipo-producto="simple"
            class="seleccion-variante-producto-general"
          >
            <p>Tamaño</p>
            <button id="phpm-view-variantes" class="container-info-variante">
              <p id=" phpm-variante-seleccionado">Personalizada</p>
              <div class="icono-dropdown-variantes icon-color-tertiary">
                {% render 'icon-flecha-abajo' %}
              </div>
            </button>
            <div id=" phpm-items-variantes" class="variantes-producto">
              <div class="variante-producto-es-item">
                <p>Familiar</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Mediana</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Basica</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Personalizada</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
            </div>
          </div>
          <button id=" phpm-btn-personalizar" class="ph-btn-general phpm-btn-personalizar">
            <p class="color-letras-secondary">PERSONALIZAR</p>
          </button>
          <button id=" phpm-btn-personalizar" class="ph-btn-general phpm-btn-agregar icon-color-secondary">
            {% render 'icon-carrito' %}
            <p class="color-letras-secondary">AGREGAR</p>
          </button>
        </div>
      </div>
      <div class="producto-es-item">
        <div class="producto-es-item-imagen">
          <img src="{{ 'imagen-pizza-1.png' | asset_url }}" alt="Pizza 1" width="100%" height="100%">
        </div>
        <div
          tipo-producto="simple"
          class="producto-es-item-detalle"
        >
          <div class="producto-es-item-info">
            <h3>CHESSY LOVERS</h3>
            <p>
              Salsa de tomate, queso mozarella, Pepperoni, Jamón, carnes mixtas (res y cerdo, salchicha italiana y
              tocino.
            </p>
          </div>
          <h3 class="color-letras-primary">12.56 BS</h3>
          <div
            id=" phpm-general-variantes"
            tipo-producto="simple"
            class="seleccion-variante-producto-general"
          >
            <p>Tamaño</p>
            <button id="phpm-view-variantes" class="container-info-variante">
              <p id=" phpm-variante-seleccionado">Personalizada</p>
              <div class="icono-dropdown-variantes icon-color-tertiary">
                {% render 'icon-flecha-abajo' %}
              </div>
            </button>
            <div id=" phpm-items-variantes" class="variantes-producto">
              <div class="variante-producto-es-item">
                <p>Familiar</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Mediana</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Basica</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Personalizada</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
            </div>
          </div>
          <button id=" phpm-btn-personalizar" class="ph-btn-general phpm-btn-personalizar">
            <p class="color-letras-secondary">PERSONALIZAR</p>
          </button>
          <button id=" phpm-btn-personalizar" class="ph-btn-general phpm-btn-agregar icon-color-secondary">
            {% render 'icon-carrito' %}
            <p class="color-letras-secondary">AGREGAR</p>
          </button>
        </div>
      </div>
      <div class="producto-es-item">
        <div class="producto-es-item-imagen">
          <img src="{{ 'imagen-pizza-1.png' | asset_url }}" alt="Pizza 1" width="100%" height="100%">
        </div>
        <div
          tipo-producto="simple"
          class="producto-es-item-detalle"
        >
          <div class="producto-es-item-info">
            <h3>CHESSY LOVERS</h3>
            <p>
              Salsa de tomate, queso mozarella, Pepperoni, Jamón, carnes mixtas (res y cerdo, salchicha italiana y
              tocino.
            </p>
          </div>
          <h3 class="color-letras-primary">12.56 BS</h3>
          <div
            id=" phpm-general-variantes"
            tipo-producto="simple"
            class="seleccion-variante-producto-general"
          >
            <p>Tamaño</p>
            <button id="phpm-view-variantes" class="container-info-variante">
              <p id=" phpm-variante-seleccionado">Personalizada</p>
              <div class="icono-dropdown-variantes icon-color-tertiary">
                {% render 'icon-flecha-abajo' %}
              </div>
            </button>
            <div id=" phpm-items-variantes" class="variantes-producto">
              <div class="variante-producto-es-item">
                <p>Familiar</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Mediana</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Basica</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Personalizada</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
            </div>
          </div>
          <button id=" phpm-btn-personalizar" class="ph-btn-general phpm-btn-personalizar">
            <p class="color-letras-secondary">PERSONALIZAR</p>
          </button>
          <button id=" phpm-btn-personalizar" class="ph-btn-general phpm-btn-agregar icon-color-secondary">
            {% render 'icon-carrito' %}
            <p class="color-letras-secondary">AGREGAR</p>
          </button>
        </div>
      </div>
      <div class="producto-es-item">
        <div class="producto-es-item-imagen">
          <img src="{{ 'imagen-pizza-1.png' | asset_url }}" alt="Pizza 1" width="100%" height="100%">
        </div>
        <div
          tipo-producto="simple"
          class="producto-es-item-detalle"
        >
          <div class="producto-es-item-info">
            <h3>CHESSY LOVERS</h3>
            <p>
              Salsa de tomate, queso mozarella, Pepperoni, Jamón, carnes mixtas (res y cerdo, salchicha italiana y
              tocino.
            </p>
          </div>
          <h3 class="color-letras-primary">12.56 BS</h3>
          <div
            id=" phpm-general-variantes"
            tipo-producto="simple"
            class="seleccion-variante-producto-general"
          >
            <p>Tamaño</p>
            <button id="phpm-view-variantes" class="container-info-variante">
              <p id=" phpm-variante-seleccionado">Personalizada</p>
              <div class="icono-dropdown-variantes icon-color-tertiary">
                {% render 'icon-flecha-abajo' %}
              </div>
            </button>
            <div id=" phpm-items-variantes" class="variantes-producto">
              <div class="variante-producto-es-item">
                <p>Familiar</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Mediana</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Basica</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
              <div class="variante-producto-es-item">
                <p>Personalizada</p>
                <p class="color-letras-primary">12.56 BS</p>
              </div>
            </div>
          </div>
          <button id=" phpm-btn-personalizar" class="ph-btn-general phpm-btn-personalizar">
            <p class="color-letras-secondary">PERSONALIZAR</p>
          </button>
          <button id=" phpm-btn-personalizar" class="ph-btn-general phpm-btn-agregar icon-color-secondary">
            {% render 'icon-carrito' %}
            <p class="color-letras-secondary">AGREGAR</p>
          </button>
        </div>
      </div>
    </div>
  </section>
</page-menu-productos>

{% style %}
  .menu-page {
    width: 100%;
    height: 56rem;
    background-color: var(--color-primary);
  }

  .phpm-titulo-general {
    width: 100%;
    display: flex;
    align-items: start;
    justify-content: start;
    padding-top: var(--espaciado-xl);
    padding-bottom: var(--espaciado-xl);
  }

  .phpm-titulo-general small {
    font-size: 4.375rem;
    font-style: normal;
    font-weight: 400;
    line-height: 100%;
    letter-spacing: -0.0875rem;
    text-transform: uppercase;
  }

  .phpm-container-seccion {
    display: flex;
    align-items: start;
    gap: var(--espaciado-l);
    overflow-x: auto;
    overflow-y: hidden;
  }

  .phpm-container-seccion::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .phpm-btn-personalizar {
    display: none;
  }

  .phpm-btn-agregar {
    display: flex;
  }

  .seleccion-variante-producto-general {
    display: none;
  }

  @media screen and (min-width: 768px) {
    .producto-es-item {
      display: flex;
      flex-direction: column;
    }

    .seleccion-variante-producto-general {
      display: flex;
    }

    .phpm-btn-personalizar {
      display: flex;
    }

    .phpm-btn-agregar {
      display: none;
    }
  }
{% endstyle %}

<script>
  class PageMenuProductos extends HTMLElement {
    constructor() {
      super();
    }

    connectedCallback() {
      console.log('page-menu-productos');
      const botonesPersonalizar = document.querySelectorAll('.boton-producto-personalizar');
      const botonesAgregar = document.querySelectorAll('.boton-producto-agregar');

      // Agregar event listener a cada botón personalizar
      botonesPersonalizar.forEach((boton) => {
        boton.addEventListener('click', () => {
          console.log('click personalizar');
          window.location.href = '/pages/producto';
        });
      });

      // Agregar event listener a cada botón agregar
      botonesAgregar.forEach((boton) => {
        boton.addEventListener('click', () => {
          console.log('click agregar');
          window.location.href = '/pages/producto';
        });
      });
    }
  }

  customElements.define('page-menu-productos', PageMenuProductos);

  document.addEventListener('DOMContentLoaded', function () {
    // Selecciona los elementos con overflow-x
    const scrollableElements = Array.from(document.querySelectorAll('*')).filter((el) => {
      const style = window.getComputedStyle(el);
      return (style.overflowX === 'auto' || style.overflowX === 'scroll') && el.scrollWidth > el.clientWidth;
    });

    scrollableElements.forEach((element) => {
      // 1. Scroll con rueda del mouse
      element.addEventListener(
        'wheel',
        function (event) {
          if (isMouseOver(event, this)) {
            event.preventDefault();
            const scrollFactor = 1.5;
            this.scrollLeft += event.deltaY * scrollFactor;
          }
        },
        { passive: false }
      );

      // 2. Scroll con clic y arrastre
      let isDown = false;
      let startX;
      let scrollLeft;

      element.addEventListener('mousedown', (e) => {
        isDown = true;
        element.style.cursor = 'grabbing';
        startX = e.pageX - element.offsetLeft;
        scrollLeft = element.scrollLeft;
      });

      element.addEventListener('mouseleave', () => {
        isDown = false;
        element.style.cursor = 'auto';
      });

      element.addEventListener('mouseup', () => {
        isDown = false;
        element.style.cursor = 'auto';
      });

      element.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - element.offsetLeft;
        const walk = (x - startX) * 1; // Ajusta la velocidad de arrastre
        element.scrollLeft = scrollLeft - walk;
      });
    });
  });

  function isMouseOver(event, element) {
    const rect = element.getBoundingClientRect();
    return (
      event.clientX >= rect.left &&
      event.clientX <= rect.right &&
      event.clientY >= rect.top &&
      event.clientY <= rect.bottom
    );
  }
</script>
